{"version":3,"sources":["components/TodoList/TodoList.jsx","components/api.js","components/CurrentUser/CurrentUser.jsx","components/TodoForm/TodoForm.jsx","App.jsx","index.js"],"names":["TodoList","todos","getCurrentUserId","selectedUserId","className","map","todo","completed","key","id","title","type","readOnly","checked","userId","onClick","defaultProps","PropTypes","arrayOf","shape","httpRequest","apiElement","fetch","then","response","ok","Error","status","statusText","json","CurrentUser","state","user","this","props","users","setState","data","prevProps","name","email","phone","clearUser","React","PureComponent","TodoForm","onChangeHandler","onSelectHandler","inputValue","placeholder","value","onChange","App","isSelected","selectedTodos","initialTodos","currUserId","event","statusType","target","filter","filteredTodos","includes","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dedeae3a.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport PropTypes from 'prop-types';\n\nexport const TodoList = ({ todos, getCurrentUserId, selectedUserId }) => (\n  <div className=\"TodoList\">\n    <h2>Todos:</h2>\n\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n        {todos.map(todo => (\n          <li\n            className={\n              `TodoList__item TodoList__item--${todo.completed\n                ? 'checked' : 'unchecked'\n              }`\n            }\n            key={todo.id}\n          >\n            <label key={todo.title}>\n              {\n                todo.completed\n                  ? <input type=\"checkbox\" readOnly checked />\n                  : <input type=\"checkbox\" readOnly />\n              }\n              <p>{todo.title}</p>\n            </label>\n\n            <button\n              className={\n                `TodoList__user-button${selectedUserId === todo.userId\n                  ? ' TodoList__user-button--selected button'\n                  : ' button'}`\n              }\n              type=\"button\"\n              key={todo.userId}\n              onClick={() => getCurrentUserId(todo.userId)}\n            >\n              UserId #\n              {todo.userId}\n            </button>\n          </li>\n        ))}\n\n      </ul>\n    </div>\n  </div>\n);\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    completed: PropTypes.bool,\n    title: PropTypes.string.isRequired,\n    userId: PropTypes.number.isRequired,\n  })),\n  getCurrentUserId: PropTypes.func.isRequired,\n  selectedUserId: PropTypes.number,\n};\n\nTodoList.defaultProps = {\n  selectedUserId: null,\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    completed: null,\n  })),\n};\n","const BASE_URL = 'https://mate-api.herokuapp.com/';\n\nexport function httpRequest(apiElement) {\n  return fetch(BASE_URL + apiElement)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    });\n}\n","import React from 'react';\nimport './CurrentUser.scss';\nimport PropTypes from 'prop-types';\nimport { httpRequest } from '../api';\n\nclass CurrentUser extends React.PureComponent {\n  state = {\n    user: {},\n  }\n\n  componentDidMount() {\n    httpRequest(`users/${this.props.userId}`)\n      .then(users => this.setState({\n        user: users.data,\n      }));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.userId !== prevProps.userId) {\n      httpRequest(`users/${this.props.userId}`)\n        .then(users => this.setState({\n          user: users.data,\n        }));\n    }\n  }\n\n  render() {\n    const { name, email, phone, id } = this.state.user;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            Selected user:\n            {id}\n          </span>\n        </h2>\n        <h3 className=\"CurrentUser__name\">{name}</h3>\n        <p className=\"CurrentUser__email\">{email}</p>\n        <p className=\"CurrentUser__phone\">{phone}</p>\n        <button\n          className=\"fluid negative ui button\"\n          onClick={this.props.clearUser}\n          type=\"button\"\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearUser: PropTypes.func.isRequired,\n};\n\nexport default CurrentUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TodoForm = ({ onChangeHandler, onSelectHandler, inputValue }) => (\n  <div className=\"ui form\">\n    <div className=\"two fields\">\n      <div className=\"field\">\n        <label>\n          Title\n          <input\n            placeholder=\"Enter task title\"\n            type=\"text\"\n            value={inputValue}\n            onChange={onChangeHandler}\n          />\n        </label>\n      </div>\n      <div className=\"field\">\n        <label>\n          Select status\n          <select\n            onChange={onSelectHandler}\n          >\n            <option\n              value=\"all\"\n            >\n              All\n            </option>\n            <option\n              value=\"active\"\n            >\n              Active\n            </option>\n            <option\n              value=\"completed\"\n            >\n              Completed\n            </option>\n          </select>\n        </label>\n      </div>\n    </div>\n  </div>\n);\n\nTodoForm.propTypes = {\n  onChangeHandler: PropTypes.func.isRequired,\n  onSelectHandler: PropTypes.func.isRequired,\n  inputValue: PropTypes.string.isRequired,\n};\nexport default TodoForm;\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport CurrentUser from './components/CurrentUser/CurrentUser';\nimport { httpRequest } from './components/api';\nimport TodoForm from './components/TodoForm/TodoForm';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    isSelected: false,\n    selectedTodos: [],\n    selectedUserId: null,\n    inputValue: '',\n  };\n\n  initialTodos = [];\n\n  componentDidMount() {\n    httpRequest('todos')\n      .then(todos => this.setState({\n        initialTodos: todos.data\n          .filter(todo => todo.title && todo.userId),\n        todos: todos.data\n          .filter(todo => todo.title && todo.userId),\n      }));\n  }\n\n  getCurrentUserId = (currUserId) => {\n    this.setState({\n      selectedUserId: currUserId,\n    });\n  }\n\n  onSelectHandler = (event) => {\n    this.setState({\n      isSelected: true,\n    });\n    const { initialTodos } = this.state;\n    const statusType = event.target.value;\n\n    this.setState({\n      todos: initialTodos\n        .filter(todo => statusType === 'completed'\n          ? todo.completed === true\n          : statusType === 'active'\n            ? todo.completed === false\n            : todo),\n      selectedTodos: initialTodos\n        .filter(todo => statusType === 'completed'\n          ? todo.completed === true\n          : statusType === 'active'\n            ? todo.completed === false\n            : todo),\n      isSelected: true,\n    });\n  }\n\n  clearUser = () => {\n    this.setState({\n      selectedUserId: null,\n    });\n  }\n\n  onChangeHandler = (event) => {\n    const { inputValue, initialTodos, isSelected, selectedTodos } = this.state;\n    const filteredTodos = (isSelected ? selectedTodos : initialTodos)\n      .filter(todo => todo.title.includes(inputValue));\n\n    this.setState({\n      todos: filteredTodos,\n      inputValue: event.target.value,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId, inputValue } = this.state;\n    const {\n      onChangeHandler,\n      onSelectHandler,\n      getCurrentUserId,\n      clearUser,\n    } = this;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoForm\n            onChangeHandler={onChangeHandler}\n            onSelectHandler={onSelectHandler}\n            inputValue={inputValue}\n          />\n          <TodoList\n            todos={todos}\n            getCurrentUserId={getCurrentUserId}\n            selectedUserId={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearUser={clearUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}